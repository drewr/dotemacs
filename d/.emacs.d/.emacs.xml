; -*- emacs-lisp -*-
(add-to-list 'load-path (expand-file-name "~/elisp/nxml"))
(load (expand-file-name "~/elisp/nxml/rng-auto"))
(add-to-list 'rng-schema-locating-files-default (expand-file-name "~/elisp/nxml-schemas.xml"))
(add-to-list 'auto-mode-alist '("\\.kid$" . nxml-mode))
(add-to-list 'auto-mode-alist '("\\.genshi$" . nxml-mode))
(add-to-list 'auto-mode-alist '("\\.pom$" . nxml-mode))

(mapc (lambda (pair)
        (if (or (eq (cdr pair) 'xml-mode)
                (eq (cdr pair) 'sgml-mode))
            (setcdr pair 'nxml-mode)))
      magic-mode-alist)
(mapc (lambda (pair)
        (if (or (eq (cdr pair) 'xml-mode)
                (eq (cdr pair) 'sgml-mode))
            (setcdr pair 'nxml-mode)))
      auto-mode-alist)
(setq magic-mode-alist (rassq-delete-all 'html-mode magic-mode-alist))
(setq magic-mode-alist (rassq-delete-all 'xml-mode magic-mode-alist))
(setq magic-mode-alist (rassq-delete-all 'sgml-mode magic-mode-alist))
(setq magic-mode-alist (rassq-delete-all 'nxml-mode magic-mode-alist))

